# ูุธุงู User Roles & Permissions ูู PHP Filament

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุฅูุดุงุก ูุธุงู ุดุงูู ูุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช ูู Laravel ูุน Filament Admin Panel. ูููุฑ ุงููุธุงู:

- โ ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ (Roles)
- โ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช (Permissions) 
- โ ุฑุจุท ุงููุณุชุฎุฏููู ุจุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
- โ ูุงุฌูุฉ ุฅุฏุงุฑูุฉ ูุชูุฏูุฉ
- โ Middleware ููุญูุงูุฉ
- โ Blade Directives ููุนุฑุถ

## ๐๏ธ ูููู ุงููุธุงู

### Models
```
app/Models/
โโโ Role.php              # ูููุฐุฌ ุงูุฃุฏูุงุฑ
โโโ Permission.php        # ูููุฐุฌ ุงูุตูุงุญูุงุช
โโโ User.php             # ูููุฐุฌ ุงููุณุชุฎุฏููู (ูุญุฏุซ)
```

### Database Tables
```
โโโ roles                 # ุฌุฏูู ุงูุฃุฏูุงุฑ
โโโ permissions          # ุฌุฏูู ุงูุตูุงุญูุงุช
โโโ role_permissions     # ุนูุงูุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช
โโโ user_roles          # ุนูุงูุฉ ุงููุณุชุฎุฏููู ูุงูุฃุฏูุงุฑ
โโโ user_permissions    # ุนูุงูุฉ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุช ุงููุจุงุดุฑุฉ
```

### Filament Resources
```
app/Filament/Resources/
โโโ RoleResource.php        # ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
โโโ PermissionResource.php  # ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
โโโ UserResource.php       # ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู (ูุญุฏุซ)
```

### Middleware
```
app/Http/Middleware/
โโโ CheckPermission.php    # ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
โโโ CheckRole.php         # ุงูุชุญูู ูู ุงูุฃุฏูุงุฑ
```

### Custom Pages
```
app/Filament/Pages/
โโโ UserPermissionsManager.php  # ุตูุญุฉ ุฅุฏุงุฑุฉ ุตูุงุญูุงุช ุงููุณุชุฎุฏููู
```

## ๐ง ุงูููุฒุงุช

### 1. ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- ุฅูุดุงุก ูุชุนุฏูู ูุญุฐู ุงูุฃุฏูุงุฑ
- ุชุนููู ุงูุตูุงุญูุงุช ููุฃุฏูุงุฑ
- ุชุญุฏูุฏ ุฃููููุงุช ุงูุฃุฏูุงุฑ
- ุชูุนูู/ุฅูุบุงุก ุชูุนูู ุงูุฃุฏูุงุฑ
- ุฃููุงู ูุฎุตุตุฉ ููุฃุฏูุงุฑ

### 2. ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- ุชุตููู ุงูุตูุงุญูุงุช ุญุณุจ ุงููุฌููุนุงุช
- ุฃููููุงุช ุงูุตูุงุญูุงุช
- ุชูุนูู/ุฅูุบุงุก ุชูุนูู ุงูุตูุงุญูุงุช
- ุฃููููุงุช ููุตูุงุญูุงุช

### 3. ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- ุชุนููู ุฃุฏูุงุฑ ูุชุนุฏุฏุฉ ูููุณุชุฎุฏู
- ููุญ ุตูุงุญูุงุช ูุจุงุดุฑุฉ ูููุณุชุฎุฏู
- ุนุฑุถ ููุฎุต ุงูุตูุงุญูุงุช
- ููุชุฑุฉ ุญุณุจ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

### 4. ุงูุญูุงูุฉ ูุงูุฃูุงู
- Middleware ููุชุญูู ูู ุงูุตูุงุญูุงุช
- Middleware ููุชุญูู ูู ุงูุฃุฏูุงุฑ
- ุญูุงูุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช ุงูุฃุณุงุณูุฉ ูู ุงูุญุฐู
- ุชุญูู ูู ุงููุตูู ููุญุฉ ุงูุชุญูู

## ๐ฏ ุงูุฃุฏูุงุฑ ุงูุงูุชุฑุงุถูุฉ

### Super Admin (ูุฏูุฑ ุนุงู)
- ูุฏูู ุฌููุน ุงูุตูุงุญูุงุช
- ูุง ูููู ุญุฐูู
- ุฃููููุฉ 1

### Admin (ูุฏูุฑ)
- ุตูุงุญูุงุช ุฅุฏุงุฑูุฉ ูุงุณุนุฉ
- ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู ูุงููุญุชูู
- ุฃููููุฉ 10

### Moderator (ูุดุฑู)
- ุฅุดุฑุงู ุนูู ุงููุญุชูู ูุงููุณุชุฎุฏููู
- ุตูุงุญูุงุช ูุญุฏูุฏุฉ
- ุฃููููุฉ 20

### Editor (ูุญุฑุฑ)
- ุชุญุฑูุฑ ุงููุญุชูู ููุท
- ุฃููููุฉ 30

### User (ูุณุชุฎุฏู ุนุงุฏู)
- ุตูุงุญูุงุช ุฃุณุงุณูุฉ
- ุฃููููุฉ 100

## ๐ ูุฌููุนุงุช ุงูุตูุงุญูุงุช

### System (ุงููุธุงู)
- `super_admin` - ูุฏูุฑ ุนุงู
- `access_admin` - ุงููุตูู ูููุญุฉ ุงูุชุญูู
- `view_dashboard` - ุนุฑุถ ุงูุฏุงุดุจูุฑุฏ

### Users (ุงููุณุชุฎุฏููู)
- `manage_users` - ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- `create_users` - ุฅูุดุงุก ูุณุชุฎุฏููู
- `edit_users` - ุชุนุฏูู ุงููุณุชุฎุฏููู
- `delete_users` - ุญุฐู ุงููุณุชุฎุฏููู
- `view_users` - ุนุฑุถ ุงููุณุชุฎุฏููู

### Roles (ุงูุฃุฏูุงุฑ)
- `manage_roles` - ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- `create_roles` - ุฅูุดุงุก ุฃุฏูุงุฑ
- `edit_roles` - ุชุนุฏูู ุงูุฃุฏูุงุฑ
- `delete_roles` - ุญุฐู ุงูุฃุฏูุงุฑ
- `assign_roles` - ุชุนููู ุงูุฃุฏูุงุฑ

### Permissions (ุงูุตูุงุญูุงุช)
- `manage_permissions` - ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- `create_permissions` - ุฅูุดุงุก ุตูุงุญูุงุช
- `edit_permissions` - ุชุนุฏูู ุงูุตูุงุญูุงุช
- `delete_permissions` - ุญุฐู ุงูุตูุงุญูุงุช

### Content (ุงููุญุชูู)
- `manage_content` - ุฅุฏุงุฑุฉ ุงููุญุชูู
- `create_content` - ุฅูุดุงุก ูุญุชูู
- `edit_content` - ุชุนุฏูู ุงููุญุชูู
- `delete_content` - ุญุฐู ุงููุญุชูู
- `publish_content` - ูุดุฑ ุงููุญุชูู

### Finance (ุงููุงููุฉ)
- `manage_finance` - ุฅุฏุงุฑุฉ ุงููุงููุฉ
- `view_wallets` - ุนุฑุถ ุงููุญุงูุธ
- `manage_transactions` - ุฅุฏุงุฑุฉ ุงููุนุงููุงุช
- `approve_withdrawals` - ููุงููุฉ ุงูุณุญุจ

### Reports (ุงูุชูุงุฑูุฑ)
- `view_reports` - ุนุฑุถ ุงูุชูุงุฑูุฑ
- `export_reports` - ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ

### Settings (ุงูุฅุนุฏุงุฏุงุช)
- `manage_settings` - ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช
- `backup_system` - ุงููุณุฎ ุงูุงุญุชูุงุทู

### General (ุนุงู)
- `view_profile` - ุนุฑุถ ุงูููู ุงูุดุฎุตู
- `edit_profile` - ุชุนุฏูู ุงูููู ุงูุดุฎุตู
- `change_password` - ุชุบููุฑ ูููุฉ ุงููุฑูุฑ

## ๐๏ธ ุทุฑู ุงูุงุณุชุฎุฏุงู

### ูู Controller
```php
// ุงูุชุญูู ูู ุงูุตูุงุญูุฉ
if (!auth()->user()->hasPermission('manage_users')) {
    abort(403);
}

// ุงูุชุญูู ูู ุงูุฏูุฑ
if (!auth()->user()->hasRole('admin')) {
    abort(403);
}

// ุงูุชุญูู ูู Super Admin
if (auth()->user()->isSuperAdmin()) {
    // ููุฏ ูููุฏูุฑ ุงูุนุงู
}
```

### ูู Routes
```php
// ุญูุงูุฉ ุจุงูุตูุงุญูุฉ
Route::get('/admin/users', function() {
    // ููุฏ
})->middleware('permission:manage_users');

// ุญูุงูุฉ ุจุงูุฏูุฑ
Route::get('/admin/reports', function() {
    // ููุฏ
})->middleware('role:admin,moderator');
```

### ูู Blade Templates
```blade
{{-- ุงูุชุญูู ูู ุงูุตูุงุญูุฉ --}}
@permission('manage_users')
    <a href="/admin/users">ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู</a>
@endpermission

{{-- ุงูุชุญูู ูู ุงูุฏูุฑ --}}
@role('admin')
    <div>ูุญุชูู ูููุฏูุฑูู ููุท</div>
@endrole

{{-- ุงูุชุญูู ูู Super Admin --}}
@superadmin
    <div>ูุญุชูู ูููุฏูุฑ ุงูุนุงู ููุท</div>
@endsuperadmin
```

### ูู User Model
```php
$user = User::find(1);

// ุฅุถุงูุฉ ุฏูุฑ
$user->assignRole('admin');

// ุฅุฒุงูุฉ ุฏูุฑ
$user->removeRole('editor');

// ุฅุถุงูุฉ ุตูุงุญูุฉ ูุจุงุดุฑุฉ
$user->givePermission('manage_users');

// ุฅุฒุงูุฉ ุตูุงุญูุฉ
$user->revokePermission('delete_users');

// ุงูุญุตูู ุนูู ุฌููุน ุงูุตูุงุญูุงุช
$permissions = $user->getAllPermissions();

// ุงูุชุญูู ูู ุงูุตูุงุญูุฉ
if ($user->hasPermission('edit_content')) {
    // ููุฏ
}
```

## ๐ ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุจูุงูุงุช ุงููุฏูุฑ ุงูุนุงู
```
Email: admin@admin.com
Password: admin123
```

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

1. **ุชูููุฐ Migrations:**
```bash
php artisan migrate
```

2. **ุชุดุบูู Seeder:**
```bash
php artisan db:seed --class=RolesAndPermissionsSeeder
```

3. **ูุณุญ Cache:**
```bash
php artisan route:clear
php artisan config:clear
```

4. **ุชุดุบูู Server:**
```bash
php artisan serve
```

## ๐จ ูุงุฌูุฉ Filament

### ุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ
- ุนุฑุถ ุฌููุน ุงูุฃุฏูุงุฑ ูุน ุงูุฅุญุตุงุฆูุงุช
- ุฅูุดุงุก ุฃุฏูุงุฑ ุฌุฏูุฏุฉ
- ุชุนุฏูู ุงูุฃุฏูุงุฑ ุงูููุฌูุฏุฉ
- ุชุนููู ุงูุตูุงุญูุงุช ููุฃุฏูุงุฑ
- ููุชุฑุฉ ูุจุญุซ ูุชูุฏู

### ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- ุนุฑุถ ุงูุตูุงุญูุงุช ูุฌูุนุฉ ุญุณุจ ุงูููุน
- ุฅูุดุงุก ุตูุงุญูุงุช ุฌุฏูุฏุฉ
- ุชุนุฏูู ุงูุตูุงุญูุงุช ุงูููุฌูุฏุฉ
- ููุชุฑุฉ ุญุณุจ ุงููุฌููุนุฉ ูุงูุญุงูุฉ

### ุฅุฏุงุฑุฉ ุงููุณุชุฎุฏููู
- ุนุฑุถ ุงููุณุชุฎุฏููู ูุน ุฃุฏูุงุฑูู
- ุชุนููู ุฃุฏูุงุฑ ูุชุนุฏุฏุฉ
- ููุญ ุตูุงุญูุงุช ูุจุงุดุฑุฉ
- ููุชุฑุฉ ุญุณุจ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช

### ุตูุญุฉ ุฅุฏุงุฑุฉ ุงูุตูุงุญูุงุช
- ูุงุฌูุฉ ุณููุฉ ูุฅุฏุงุฑุฉ ุตูุงุญูุงุช ูุณุชุฎุฏู ูุญุฏุฏ
- ุนุฑุถ ููุฎุต ุฌููุน ุงูุตูุงุญูุงุช
- ุชุฌููุน ุงูุตูุงุญูุงุช ุญุณุจ ุงูููุน

## ๐ ุงูุฃูุงู

- ุญูุงูุฉ ุงูุฃุฏูุงุฑ ุงูุฃุณุงุณูุฉ ูู ุงูุญุฐู
- ุญูุงูุฉ ุงูุตูุงุญูุงุช ุงูุฃุณุงุณูุฉ ูู ุงูุญุฐู
- ุชุญูู ูู ุงููุตูู ูููุญุฉ ุงูุชุญูู
- Middleware ูุชูุฏู ููุญูุงูุฉ
- ุชุดููุฑ ูููุงุช ุงููุฑูุฑ
- ุงูุชุญูู ูู ุงููููุฉ ูุจู ุฃู ุนูููุฉ

## ๐ฑ ุงูุชูุงูู

- Laravel 11
- PHP 8.2+
- Filament 3.x
- MySQL/PostgreSQL/SQLite

## ๐ฏ ุงููุชูุฌุฉ

ุชู ุฅูุดุงุก ูุธุงู ุดุงูู ููุชูุฏู ูุฅุฏุงุฑุฉ ุงูุฃุฏูุงุฑ ูุงูุตูุงุญูุงุช ูููุฑ:

โ **ุณูููุฉ ุงูุงุณุชุฎุฏุงู** - ูุงุฌูุฉ Filament ุจุฏูููุฉ  
โ **ุงููุฑููุฉ** - ุฃุฏูุงุฑ ูุตูุงุญูุงุช ูุงุจูุฉ ููุชุฎุตูุต  
โ **ุงูุฃูุงู** - ุญูุงูุฉ ูุชูุฏูุฉ ููุชุนุฏุฏุฉ ุงููุณุชููุงุช  
โ **ุงููุงุจููุฉ ููุชุทููุฑ** - ุจููุฉ ูุงุจูุฉ ููุชูุณุน  
โ **ุงูุชูุซูู ุงูุดุงูู** - ุฏููู ููุตู ููุงุณุชุฎุฏุงู  

ุงููุธุงู ุฌุงูุฒ ููุงุณุชุฎุฏุงู ุงูููุฑู ูุงูุชุทููุฑ ุงููุณุชูุจูู! ๐
